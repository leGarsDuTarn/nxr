<h1 class="text-center">Bienvenue sur la page d'inscription pour : <br>
<%= @race.name %> !</h1>


<p class="lead">
  Nous serions ravis de vous voir participer √† cette course.
  Vos informations personnelles sont d√©j√† enregistr√©es sur votre profil.
  <br>
  ‚û°Ô∏è Si elles doivent √™tre modifi√©es, <%= link_to "cliquez ici pour mettre √† jour votre profil", edit_user_registration_path %>.
  <br>
  ‚úÖ Si tout est correct, merci de compl√©ter uniquement les informations v√©hicule ci-dessous :
</p>

<%= simple_form_for @registration, url: polymorphic_path([:members, @registration.registerable, :registrations]) do |f| %>
  <%= f.hidden_field :registerable_id %>
  <%= f.hidden_field :registerable_type %>

  <fieldset>
    <legend>Informations personnelles</legend>
    <%= f.input :first_name, label: 'Pr√©nom', input_html: { value: current_user.first_name, readonly: true } %>
    <%= f.input :last_name, label: 'Nom', input_html: { value: current_user.last_name, readonly: true } %>
    <%= f.input :birth_date, label: 'Date de naissance', input_html: { value: current_user.birth_date, readonly: true } %>
    <%= f.input :phone_number, label: 'T√©l√©phone', input_html: { value: current_user.phone_number, readonly: true } %>
    <small class="text-muted d-block">
      Pas de num√©ro de t√©l√©phone ou num√©ro erron√© ?
      <%= link_to "Modifier votre profil", edit_user_registration_path %>
    </small>
  </fieldset>

  <fieldset>
    <legend>Informations sur la course</legend>
    <%= f.input :license_code, label: 'Licence Code', input_html: { value: current_user.license_code, readonly: true } %>
    <%= f.input :license_number, label: 'Num√©ro de licence', input_html: { value: current_user.license_number, readonly: true } %>
    <%= f.input :club_name, label: 'Nom de votre club', input_html: { value: current_user.club_name, readonly: true } %>
    <%= f.input :race_number, label: 'Num√©ro de course', placeholder: "Veuillez renseigner un num√©ro de course", required: true %>
  </fieldset>

  <fieldset>
    <legend>Informations v√©hicule</legend>
    <%= f.input :bike_brand,
      as: :select,
      collection: Registration::VALID_BRANDS,
      label: 'Marque de moto',
      prompt: "S√©lectionner une marque",
      required: true %>

    <%= f.input :cylinder_capacity,
      as: :select,
      collection: Registration::BIKE_CYLINDER_CAPACITY,
      label: 'Cylindr√©e (cc)',
      prompt: "S√©lectionner la cylindr√©e",
      required: true %>

    <%= f.input :stroke_type,
      label: "Type de moteur",
      collection: [['2 temps', 'two_stroke'], ['4 temps', 'four_stroke']],
      prompt: "S√©lectionner le type" %>
  </fieldset>

  <div class="text-center my-4">
    <%= f.button :submit, "üèÅ Je m'inscris √† la course !", class: "btn btn-lg btn-primary" %>
  </div>
<% end %>

<p class="small text-muted text-center">
  ‚ö†Ô∏è En cliquant sur "Je m‚Äôinscris", vous confirmez votre participation √† la course.
  Vous pourrez g√©rer vos inscriptions depuis votre tableau de bord.
</p>
