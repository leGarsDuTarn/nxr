<h1>Inscription</h1>

<% if @race %>
<p>Événement : <%= @race.name %></p>
<% end %>

<%= simple_form_for @registration, url: polymorphic_path([:members, @registration.registerable, :registrations]) do |f| %>
  <%= f.hidden_field :registerable_id, value: @registration.registerable_id %>
  <%= f.hidden_field :registerable_type, value: @registration.registerable_type %>

  <%= label_tag 'user_first_name', 'Prénom' %>
  <%= text_field_tag 'user[first_name]', current_user.first_name, required: true %>

  <%= label_tag 'user_last_name', 'Nom' %>
  <%= text_field_tag 'user[last_name]', current_user.last_name, required: true %>

  <%= label_tag 'user_birth_date', 'Date de naissance' %>
  <%= text_field_tag 'user[birth_date]', current_user.birth_date, required: true %>

  <%= label_tag 'user_phone_number', 'Téléphone' %>
  <%= text_field_tag 'user[phone_number]', current_user.phone_number, required: true %>

  <%= label_tag 'user_race_number', 'Numéro de course' %>
  <%= text_field_tag 'user[race_number]', current_user.race_number, required: true %>

  <%= label_tag 'user_address', 'Adresse' %>
  <%= text_field_tag 'user[address]', current_user.address, required: true %>

  <%= label_tag 'user_post_code', 'Code Postal' %>
  <%= text_field_tag 'user[post_code]', current_user.post_code, required: true %>

  <%= label_tag 'user_town', 'Ville' %>
  <%= text_field_tag 'user[town]', current_user.town, required: true %>

  <%= label_tag 'user_license_code', 'Licence Code' %>
  <%= text_field_tag 'user[license_code]', current_user.license_code, required: true %>

  <%= label_tag 'user_license_number', 'Numéro de licence' %>
  <%= text_field_tag 'user[license_number]', current_user.license_number, required: true  %>

  <%= label_tag 'user_club_name', 'Nom de votre club' %>
  <%= text_field_tag 'user[club_name]', current_user.club_name, required: true %>

  <%= label_tag 'user_bike_brand', 'Marque de votre moto' %>
  <%= text_field_tag 'user[bike_brand]', current_user.bike_brand, required: true %>

  <%= label_tag 'user_cylinder_capacity', 'Cylindrée' %>
  <%= text_field_tag 'user[cylinder_capacity]', current_user.cylinder_capacity, required: true %>

  <%= label_tag 'user_stroke_type', 'Type de moteur' %>
  <%= select_tag 'user[stroke_type]',
      options_for_select(User.stroke_types.map { |key, value| [key.humanize, value] }, current_user.stroke_type),
      required: true,
      class: 'form-control' %>

  <%= label_tag 'user_plate_number', "Plaque d'immatriculation" %>
  <%= text_field_tag 'user[plate_number]', current_user.plate_number, required: true %>

  <%= f.button :submit, "S'inscrire" %>
<% end %>
