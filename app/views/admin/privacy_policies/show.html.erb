<%# app/views/admin/privacy_policies/show.html.erb %>

<section class="container my-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0 text-start fs-2 fw-bold text-uppercase">
      <i class="fa-solid fa-shield-halved me-2"></i> Politique de confidentialité
    </h2>

    <div class="d-flex gap-2">
      <%= link_to edit_admin_privacy_policy_path, class: "btn-nxr d-inline-flex align-items-center" do %>
        <i class="fas fa-edit me-2"></i> Modifier
      <% end %>
    </div>
  </div>

  <article class="card card-admin shadow-sm rounded-4 overflow-hidden">
    <%# Bandeau image si présente %>
    <% if @privacy_policy.respond_to?(:image) && @privacy_policy.image.attached? %>
      <div class="ratio ratio-16x9">
        <%= image_tag @privacy_policy.image, class: "w-100 h-100 object-fit-cover" %>
      </div>
    <% end %>

    <div class="card-body p-4">
      <header class="mb-3">
        <h3 class="h5 fw-bold mb-1"><%= @privacy_policy.title.presence || "Politique de confidentialité" %></h3>
      </header>

      <% if @privacy_policy.body.present? %> <%# remplace par .body si besoin %>
        <div class="prose">
          <%= simple_format(h(@privacy_policy.body)) %>
        </div>
        <% if @privacy_policy.published_at.present? %>
          <p class="text-tertiary small mb-0 mt-3">
            <i class="far fa-clock me-1"></i>
            Publié le <%= l(@privacy_policy.published_at, format: :long) %>
          </p>
        <% end %>
      <% else %>
        <div>
          Aucune politique de confidentialité enregistrée pour le moment.
          <%= link_to "Ajouter un contenu", edit_admin_privacy_policy_path, class: "ms-1" %>
        </div>
      <% end %>
    </div>
  </article>
</section>
